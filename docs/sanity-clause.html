<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
 "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<link rel="stylesheet" href="default.css" type="text/css" />
<title>sanity-clause

 package</title>
</head>
<body>
<div id="sanity-clause-package" class="document"><h1 class="title"><tt class="docutils literal">
<span class="pre">sanity-clause</span></tt> package</h1>
<p><a class="reference" href="index.html"><span>&lt;&lt; back to sanity-clause index</span></a></p>
<p>Main package of the <a class="reference ref-package" href="sanity-clause.html"><span class="ref-package">sanity-clause</span></a> system.</p>
<p><a class="reference ref-package" href="sanity-clause.html"><span class="ref-package">sanity-clause</span></a> helps define data contracts like "this field will always have a valid integer greater than zero in it".  It's also useful for serializing and deserializing data to and from different formats.  Contracts are built in the form of schemas, which are composed of <a class="reference ref-class" href="sanity-clause.field.html#class__field"><span class="ref-class">sanity-clause.field:field</span></a> s.</p>
<p>for example:</p>
<pre class="literal-block">
(setq schema (list :name (make-field 'string)
                   :age  (make-field 'integer :validator (lambda (v) (unless (&gt; v 0) "impossible age!")))))

(setq some-data '((:name . "matt")
                  (:age  . "7")))

(load schema some-data)
;; =&gt; (:name "matt" :age 7)
;; note: the string for age got converted by DESERIALIZE from a string to an integer.
</pre><p>To learn more about what fields exist, check out <a class="reference ref-package" href="sanity-clause.field.html"><span class="ref-package">sanity-clause.field</span></a>.</p>
<p>To see more validation functions, check out <a class="reference ref-package" href="sanity-clause.validator.html"><span class="ref-package">sanity-clause.validator</span></a>.</p>
<p>To see how to load a schema from a file or keyword spec, check out <a class="reference ref-package" href="sanity-clause.schema.html"><span class="ref-package">sanity-clause.schema</span></a>.</p>
<p>Exported symbols:</p>
<hr class ="docutils footer" /><div class="footer">Generated on : Fri, 05 Jul 2019 23:16:57 .
</div>
</div>
</body>
</html>