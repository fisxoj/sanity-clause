<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
 "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<link rel="stylesheet" href="default.css" type="text/css" />
<title>sanity-clause.metaclass

 package</title>
</head>
<body>
<div id="sanity-clause-metaclass-package" class="document"><h1 class="title"><tt class="docutils literal">
<span class="pre">sanity-clause.metaclass</span></tt> package</h1>
<p><a class="reference" href="index.html"><span>&lt;&lt; back to sanity-clause index</span></a></p>
<p>The <a class="reference ref-class" href="sanity-clause.metaclass.html#class__validated-metaclass"><span class="ref-class">validated-metaclass</span></a> is a way of defining classes that have contracts enforced for them.</p>
<pre class="literal-block">
(defclass person ()
     ((favorite-dog :type symbol
                    :field-type :member
                    :members (:wedge :walter)
                    :initarg :favorite-dog
                    :required t)
      (age :type (integer 0)
           :initarg :age
           :required t)
      (potato :type string
              :initarg :potato
              :required t))
     (:metaclass sanity-clause.metaclass:validated-metaclass))
</pre><p>The above defines a class that can be instantiated with <a class="reference ref-function" href="http://www.lispworks.com/reference/HyperSpec/Body/f_mk_ins.htm"><span class="ref-function">common-lisp:make-instance</span></a>, but will error if the initargs don't satisfy the contract required by the field.</p>
<p>Some special types can be specifed with lisp type specs, like <tt class="docutils literal">
<span class="pre">age</span></tt> above, which will generate an <a class="reference ref-class" href="sanity-clause.field.html#class__integer-field"><span class="ref-class">sanity-clause.field:integer-field</span></a>, with validations requiring the value be at least 0.</p>
<p><strong><span>Nota Bene:</span></strong> At the moment, there is no validation done on updating slots after instances are created.</p>
<p>Exported symbols:</p>
<div id="classes" class="section"><h2><a name="classes">Classes</a></h2>
<a id="class-validated-metaclass" class="target" name="class-validated-metaclass"></a><div id="validated-metaclass" class="section"><h3><a name="validated-metaclass"><tt class="docutils literal">
<span class="pre">validated-metaclass</span></tt></a></h3>
<table class="field-list" frame="void" rules="none"><col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th colspan="1" class="field-name">Superclasses:</th><td class="field-body"><tt class="docutils literal">
<span class="pre">(STANDARD-CLASS)</span></tt></td>
</tr>
</tbody>
</table>
</div>
</div>
<hr class ="docutils footer" /><div class="footer">Generated on : Mon, 05 Aug 2019 14:39:58 .
</div>
</div>
</body>
</html>